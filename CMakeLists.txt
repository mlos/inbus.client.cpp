#
# Copyright (c) 2018 Maarten Los
# See LICENSE.rst for details.
#
cmake_minimum_required (VERSION 2.6)
file (STRINGS VERSION.txt VERSION )
file (WRITE src/version.h  "/* Generated by CMake. DO NOT EDIT */\n")
file (APPEND src/version.h  "const char *inbus_client_library_version=\"Version: ${VERSION}\";\n")
project (inbusclient)

include_directories( /usr/local/include )
add_library(inbusclient src/publisher.cpp)
install (TARGETS inbusclient DESTINATION lib)
install (FILES src/publisher.h DESTINATION include/inbus)

add_executable(pub EXCLUDE_FROM_ALL examples/pub.cpp)
target_link_libraries(pub inbusclient)

add_executable(hello EXCLUDE_FROM_ALL examples/hello.cpp)
target_link_libraries(hello inbusclient)
